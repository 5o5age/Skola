<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cars</title>
    <link rel="stylesheet" href="src/style/cardsStyle.css">
</head>

<body>

    <nav class="nav">
        <div class="nav-links">
            <a href="index.html">Home</a>
            <a href="card.html">Cars</a>
            <a href="#Info">Info</a>
        </div>

        <button class="nav-toggle" type="button" aria-expanded="false">Menu ▾</button>

        <div class="nav-dropdown" hidden>
            <a href="index.html">Home</a>
            <a href="card.html">Cars</a>
            <a href="#Info">Info</a>
        </div>
    </nav>


    <div class="cards">
        <div class="card one">
            <h1>Aston martin</h1>
            <p>British manufacturer of luxury sports cars and grand tourers.</p>
            <div class="images">
                <img class="nonactive" src="src/images/astonside2.png" alt="car">
                <img class="active" src="src/images/astonfront.png" alt="carfront">
            </div>

            <div class="button">
                <button class="learn-more" type="button" data-modal-id="aston">Learn More</button>
            </div>
        </div>

        <div class="card two">
            <h1>Porsche</h1>
            <p>German automobile manufacturer specializing in luxury, high-performance sports cars.</p>
            <div class="images">
                <img class="nonactive" src="src/images/poscheside.png" alt="car" style="height: 90%;">
                <img class="active" src="src/images/fronpor.png" alt="carfront">
            </div>

            <div class="button">
                <button class="learn-more" type="button" data-modal-id="porsche">Learn More</button>
            </div>
        </div>

        <div class="card three">
            <h1>Audi</h1>
            <p>German automotive manufacturer of luxury vehicles headquartered in Ingolstadt.</p>
            <div class="images">
                <img class="nonactive" src="src/images/audiside2.png" alt="car">
                <img class="active" src="src/images/frontaudii.png" alt="carfront">
            </div>

            <div class="button">
                <button class="learn-more" type="button" data-modal-id="audi">Learn More</button>
            </div>
        </div>
    </div>



    <div class="modal-templates" hidden>
        <div data-modal-content="aston">
            <h2 id="modal-title">Aston Martin</h2>
            <p><b>Type:</b> Luxury sports cars / grand tourers</p>
            <p><b>Known for:</b> Premium design, performance, iconic British brand.</p>
            <ul>
                <li>High-end GT focus</li>
                <li>Distinctive styling</li>
                <li>Motorsport heritage</li>
            </ul>
        </div>

        <div data-modal-content="porsche">
            <h2 id="modal-title">Porsche</h2>
            <p><b>Type:</b> Performance sports cars</p>
            <p><b>Known for:</b> Engineering, handling, and daily-drivable performance.</p>
            <ul>
                <li>Strong brand identity (911 etc.)</li>
                <li>Precision build quality</li>
                <li>Track + street balance</li>
            </ul>
        </div>

        <div data-modal-content="audi">
            <h2 id="modal-title">Audi</h2>
            <p><b>Type:</b> Luxury vehicles</p>
            <p><b>Known for:</b> Clean design, tech-focused interiors, premium feel.</p>
            <ul>
                <li>Modern styling</li>
                <li>Advanced driver/infotainment tech</li>
                <li>Wide model range</li>
            </ul>
        </div>
    </div>
    </section>


    <div class="modal" id="modal" hidden aria-hidden="true" role="dialog" aria-modal="true">
        <div class="modal__overlay" data-close="true"></div>

        <div class="modal__content" role="document">
            <button class="modal__close" type="button" aria-label="Close modal" data-close="true">✕</button>
            <div class="modal__body" id="modal-body"></div>
        </div>
    </div>


    <button id="theme-toggle">Dark Mode</button>


    <script>
        (() => {
            const themeToggle = document.getElementById('theme-toggle');
            const body = document.body;

            if (localStorage.getItem('theme') === 'dark') {
                body.classList.add('dark-mode');
                themeToggle.textContent = 'Light Mode';
            }

            themeToggle.addEventListener('click', () => {
                body.classList.toggle('dark-mode');
                const isDark = body.classList.contains('dark-mode');
                themeToggle.textContent = isDark ? 'Light Mode' : 'Dark Mode';
                localStorage.setItem('theme', isDark ? 'dark' : 'light');
            });

            const menuButton = document.querySelector(".nav-toggle");
            const dropdown = document.querySelector(".nav-dropdown");

            if (menuButton && dropdown) {
                menuButton.addEventListener("click", () => {
                    const isHidden = dropdown.hasAttribute("hidden");
                    if (isHidden) {
                        dropdown.removeAttribute("hidden");
                        menuButton.setAttribute("aria-expanded", "true");
                    } else {
                        dropdown.setAttribute("hidden", "");
                        menuButton.setAttribute("aria-expanded", "false");
                    }
                });


            }




            const modal = document.getElementById("modal");
            const modalBody = document.getElementById("modal-body");

            const openModal = (contentEl) => {
                modalBody.innerHTML = "";
                modalBody.appendChild(contentEl.cloneNode(true));
                modal.removeAttribute("hidden");
                modal.setAttribute("aria-hidden", "false");
                document.body.style.overflow = "hidden";
            };

            const closeModal = () => {
                modal.setAttribute("hidden", "");
                modal.setAttribute("aria-hidden", "true");
                modalBody.innerHTML = "";
                document.body.style.overflow = "";
            };







            document.querySelectorAll(".learn-more").forEach(btn => {
                btn.addEventListener("click", () => {
                    const id = btn.getAttribute("data-modal-id");
                    const template = document.querySelector(`[data-modal-content="${id}"]`);
                    if (template) openModal(template);
                });
            });

            modal.addEventListener("click", (e) => {
                if (e.target && e.target.dataset && e.target.dataset.close === "true") {
                    closeModal();
                }
            });




            document.addEventListener("keydown", (e) => {
                if (e.key === "Escape" && !modal.hasAttribute("hidden")) {
                    closeModal();
                }
            });
        })();
    </script>

</body>

</html>